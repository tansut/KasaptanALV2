{"version":3,"sources":["../src/lib/tasks/index.ts"],"names":[],"mappings":";;;;;;;;;;;AAGA,IAAI,SAAS,GAAG;IACZ,gBAAgB;IAChB,gBAAgB;IAChB,eAAe;IACf,UAAU;IACV,YAAY;CACf,CAAC;AAEF,MAAqB,UAAU;IAG3B,MAAM,CAAO,KAAK;;YAEd,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,EAAE;gBACxB,OAAO,CAAC,GAAG,CAAC,4BAA4B,IAAI,EAAE,CAAC,CAAC;gBAChD,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAA,EAAE;oBACxB,CAAC,CAAC,IAAI,EAAE,CAAC;gBACb,CAAC,CAAC,CAAA;YACN,CAAC,CAAC,CAAC;YAGH,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBACvB,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC;gBACjC,IAAI,QAAQ,GAAa,IAAI,IAAI,EAAE,CAAC;gBACpC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;YACH,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAM,CAAC,EAAA,EAAE;gBAC9B,CAAC,CAAC,IAAI,EAAE,CAAC;YACb,CAAC,CAAA,CAAC,CAAA;YACF,OAAO,QAAQ,CAAC;QACpB,CAAC;KAAA;;AAvBL,6BAwBC;AAtBU,gBAAK,GAAe,EAAE,CAAA","file":"index.js","sourcesContent":["import * as express from \"express\";\nimport { BaseTask } from \"./basetask\";\n\nlet appRoutes = [\n    './butcherstats',\n    './productstats',\n    './reviewstask',\n    './rutins',\n    './areatask'\n];\n\nexport default class TaskLoader {\n\n    static tasks: BaseTask[] = []\n    static async start() {\n\n        process.on('exit', (code) => {\n            console.log(`About to exit with code: ${code}`);\n            TaskLoader.tasks.forEach(t=> {\n                t.stop();\n            })            \n        });  \n\n\n        var routings = [];\n        appRoutes.forEach((file) => {\n            var type = require(file).default;\n            let instance: BaseTask = new type();\n            TaskLoader.tasks.push(instance);            \n        });\n        TaskLoader.tasks.forEach(async t=> {\n            t.init();\n        })\n        return routings;\n    }\n}\n"],"sourceRoot":"../../../src/"}